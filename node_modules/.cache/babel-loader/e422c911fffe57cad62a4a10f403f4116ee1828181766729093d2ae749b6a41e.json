{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tomo/Documents/code/projects/react/retro-memories/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tomo/Documents/code/projects/react/retro-memories/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tomo/Documents/code/projects/react/retro-memories/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{motion,useAnimate}from\"framer-motion\";import estyle from\"./SubModuleContainer.module.scss\";import{useContext,useEffect,useState}from\"react\";import SubModulePress from\"../sub-module-press/SubModulePress\";import SubModuleTestimonials from\"../sub-module-testimonials/SubModuleTestimonials\";import NavContext from\"../../../NavContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SubModuleContainer(_ref){var props=_ref.props;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPress=_useState2[0],setShowPress=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSection=_useState4[0],setShowSection=_useState4[1];var _useAnimate=useAnimate(),_useAnimate2=_slicedToArray(_useAnimate,2),scope=_useAnimate2[0],animate=_useAnimate2[1];var _useContext=useContext(NavContext),submodules=_useContext.submodules,changesubmodule=_useContext.changesubmodule;var whichmodule=[\"1\"];var whichsection=[];var theclosebtn=[];var showPressFunction=function showPressFunction(section){if(section==='press'){setShowPress(true);}else{setShowPress(false);}};var openState=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return animate(scope.current,{opacity:1});case 2:_context.next=4;return animate(\"#containerid\",{height:\"550px\",y:-410},{duration:.25});case 4:_context.next=6;return animate(\"#pressid\",{opacity:1});case 6:_context.next=8;return animate(\"#closeid\",{opacity:1});case 8:case\"end\":return _context.stop();}},_callee);}));return function openState(){return _ref2.apply(this,arguments);};}();var closeState=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return animate(\"#pressid\",{opacity:0});case 2:_context2.next=4;return animate(\"#containerid\",{height:\"137px\",y:0},{duration:.25});case 4:case\"end\":return _context2.stop();}},_callee2);}));return function closeState(){return _ref3.apply(this,arguments);};}();var collapseState=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:animate(scope.current,{y:0,opacity:0});case 1:case\"end\":return _context3.stop();}},_callee3);}));return function collapseState(){return _ref4.apply(this,arguments);};}();var changeWhatHappens=function changeWhatHappens(){submodules.map(function(item){switch(item.positionstate){case 1:setShowSection(false);closeState();break;case 2:setShowSection(false);collapseState();break;case 3:setShowSection(true);showPressFunction(item.submodule);openState();break;case 4:setShowSection(false);closeState();break;default:}});};useEffect(function(){changeWhatHappens();},[changesubmodule]);var handleCloseClick=function handleCloseClick(e){closeState();setTimeout(function(){changesubmodule('',false,4);},600);};var svgVariants={ready:{opacity:0},start:{opacity:1,transition:{delay:props.delay,duration:props.duration}}};var renderCloseButton=function renderCloseButton(){theclosebtn=[];theclosebtn.push(/*#__PURE__*/_jsx(\"div\",{className:estyle.closebutton,children:/*#__PURE__*/_jsx(motion.div,{id:\"closeid\",style:{opacity:0},whileHover:{scale:1.2,color:props.hovercolor,transition:{duration:props.hoverduration}},onClick:function onClick(e){return handleCloseClick(e);},children:\"x\"})}));};var renderSubModules=function renderSubModules(){whichmodule=[];if(showPress===true){whichmodule.push(/*#__PURE__*/_jsx(SubModulePress,{props:{delay:0,duration:1}}));}else if(showPress===false){whichmodule.push(/*#__PURE__*/_jsx(SubModuleTestimonials,{props:{delay:0,duration:1}}));}};var renderSection=function renderSection(){whichsection=[];if(showSection===true){whichsection.push(/*#__PURE__*/_jsxs(motion.div,{id:\"pressid\",style:{opacity:0},children:[theclosebtn,whichmodule]}));}else if(showSection===false){whichsection.push(/*#__PURE__*/_jsx(motion.div,{id:\"pressid\",style:{opacity:1}}));}};renderCloseButton();renderSubModules();renderSection();return/*#__PURE__*/_jsx(\"div\",{ref:scope,children:/*#__PURE__*/_jsx(motion.div,{id:\"containerid\",className:estyle.container,style:{height:\"137px\",y:0},variants:svgVariants,initial:\"ready\",animate:\"start\",children:whichsection})});}export default SubModuleContainer;","map":{"version":3,"names":["motion","useAnimate","estyle","useContext","useEffect","useState","SubModulePress","SubModuleTestimonials","NavContext","jsx","_jsx","jsxs","_jsxs","SubModuleContainer","_ref","props","_useState","_useState2","_slicedToArray","showPress","setShowPress","_useState3","_useState4","showSection","setShowSection","_useAnimate","_useAnimate2","scope","animate","_useContext","submodules","changesubmodule","whichmodule","whichsection","theclosebtn","showPressFunction","section","openState","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","current","opacity","height","y","duration","stop","apply","arguments","closeState","_ref3","_callee2","_callee2$","_context2","collapseState","_ref4","_callee3","_callee3$","_context3","changeWhatHappens","map","item","positionstate","submodule","handleCloseClick","e","setTimeout","svgVariants","ready","start","transition","delay","renderCloseButton","push","className","closebutton","children","div","id","style","whileHover","scale","color","hovercolor","hoverduration","onClick","renderSubModules","renderSection","ref","container","variants","initial"],"sources":["/Users/tomo/Documents/code/projects/react/retro-memories/src/interface/sub-modules/sub-module-container/SubModuleContainer.js"],"sourcesContent":["import { motion, useAnimate } from \"framer-motion\"\nimport estyle from \"./SubModuleContainer.module.scss\"\nimport { useContext, useEffect, useState } from \"react\";\nimport SubModulePress from \"../sub-module-press/SubModulePress\"\nimport SubModuleTestimonials from \"../sub-module-testimonials/SubModuleTestimonials\"\nimport NavContext from \"../../../NavContext\"\n\nfunction SubModuleContainer({props}) {\n    \n    const [showPress, setShowPress] = useState(false)\n    const [showSection, setShowSection] = useState(false)\n    const [scope, animate] = useAnimate();\n    const { submodules, changesubmodule } = useContext(NavContext)\n\n    let whichmodule = [\"1\"]\n    let whichsection = []\n    let theclosebtn = []\n\n    const showPressFunction = (section) => {\n        if(section === 'press')\n        {\n            setShowPress(true)\n        }\n        else\n        {\n            setShowPress(false)\n        }\n    }\n\n    const openState = async () => {\n        await animate(scope.current, { opacity:1 })\n        await animate(\"#containerid\", { height:\"550px\", y:-410 }, {duration: .25 })\n        await animate(\"#pressid\", { opacity:1 })\n        await animate(\"#closeid\", { opacity:1 })\n    }\n\n    const closeState = async () => {\n        \n        await animate(\"#pressid\", { opacity:0 })\n        await animate(\"#containerid\", { height:\"137px\", y:0 }, {duration:.25 })\n    }\n\n    const collapseState = async () => {\n        animate(scope.current, { y:0, opacity:0 })\n    }\n\n    const changeWhatHappens = () => {\n\n        submodules.map((item) => {\n            switch(item.positionstate) {\n\n                case 1:\n                    setShowSection(false)\n                    closeState()\n                    break;\n                case 2:\n                    setShowSection(false)\n                    collapseState()\n                    break;\n                case 3:\n                    setShowSection(true)\n                    showPressFunction(item.submodule)\n                    openState()\n                    break;\n                case 4:\n                    setShowSection(false)\n                    closeState()\n                    break;\n                    default:\n            } \n        })\n    }\n\n    useEffect(()=>{\n            changeWhatHappens()\n\t}, [changesubmodule])\n\n    const handleCloseClick = (e) => {\n        closeState()\n        setTimeout(() => {        \n            changesubmodule('', false, 4)\n        }, 600)\n    }\n\n    const svgVariants = {\n        ready: { opacity: 0 },\n        start: { opacity: 1, transition: { delay: props.delay, duration : props.duration }}\n    }\n\n    const renderCloseButton = () => {\n        theclosebtn = []\n        theclosebtn.push\n        (  \n            <div className={estyle.closebutton}> \n            <motion.div id=\"closeid\" style={{ opacity:0 }} \n                    whileHover={{scale:1.2, color:props.hovercolor, transition: { duration: props.hoverduration }}} \n                    onClick={(e) => handleCloseClick(e)}\n            >\n                x\n            </motion.div>\n            </div>\n        )\n    }\n\n    const renderSubModules = () => {\n        whichmodule = []\n        if(showPress === true){\n            whichmodule.push\n            (\n                <SubModulePress props={{delay:0, duration:1}}/> \n            )\n        }\n        else if(showPress === false){\n            whichmodule.push\n            (\n                <SubModuleTestimonials props={{delay:0, duration:1}}/>\n            )\n        }\n    }\n\n    const renderSection = () => {\n        whichsection = []\n        if(showSection === true){\n            whichsection.push\n            (\n                <motion.div id=\"pressid\" style={{opacity:0}}>\n                    {theclosebtn}\n                    {whichmodule}\n                </motion.div>\n            )\n        }\n        else if(showSection === false){\n            whichsection.push \n            (\n                <motion.div id=\"pressid\" style={{opacity:1}}>\n                </motion.div>\n            )    \n        }\n    }\n\n    renderCloseButton()\n    renderSubModules()\n    renderSection()\n    \n    return (\n        <div ref={scope}>\n            <motion.div id=\"containerid\" className={estyle.container} style={{ height: \"137px\", y:0 }} variants={svgVariants} initial=\"ready\" animate=\"start\">\n                {whichsection}\n            </motion.div>\n        </div>\n    )\n}\nexport default SubModuleContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}