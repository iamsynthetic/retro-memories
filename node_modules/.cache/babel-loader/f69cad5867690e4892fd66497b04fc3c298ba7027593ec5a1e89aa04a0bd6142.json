{"ast":null,"code":"var _jsxFileName = \"/Users/tomo/Documents/code/projects/react/retro-memories/src/interface/sub-modules/sub-module-container/SubModuleContainer.js\",\n  _s = $RefreshSig$();\nimport { motion, useAnimate } from \"framer-motion\";\nimport estyle from \"./SubModuleContainer.module.scss\";\nimport { useContext, useEffect, useState } from \"react\";\nimport SubModulePress from \"../sub-module-press/SubModulePress\";\nimport SubModuleTestimonials from \"../sub-module-testimonials/SubModuleTestimonials\";\nimport NavContext from \"../../../NavContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SubModuleContainer({\n  props\n}) {\n  _s();\n  // left to do here\n  //__________________\n\n  // have to set up a check for the main menu when something is selected and this is set to open\n\n  const [showPress, setShowPress] = useState(false);\n  const [showClosebtn, setShowClosebtn] = useState(false);\n  const [showXbtn, setShowXbtn] = useState(false);\n  const {\n    submodules\n  } = useContext(NavContext);\n  const {\n    changesubmodule\n  } = useContext(NavContext);\n  const [scope, animate] = useAnimate();\n  let thesubmoduleis = '';\n  let showSection = false;\n  let whichmodule = [\"1\"];\n  let whichsection = [];\n  let theclosebtn = [];\n\n  //to use the animate it seems like you have to have the style properties you want to animate set on the element and not in a css file\n  //you also appear to need your animations to be asyncronous\n  //make sure you don't have comma's at the end of your animation lines\n  //tenery at bottom 'showPress' seems to be functioning the opposite, shows the component after the colon if true.\n\n  const showPressFunction = section => {\n    if (section === 'press') {\n      setShowPress(true);\n    } else {\n      setShowPress(false);\n    }\n  };\n  const openpanel = async () => {\n    await animate(\"#containerid\", {\n      height: \"547px\",\n      y: -410\n    }, {\n      duration: .25\n    });\n    await animate(\"#pressid\", {\n      opacity: 1\n    });\n    // animate([['#closeid', { opacity:1 }, {delay:1}]])\n  };\n\n  const closepanel = async () => {\n    await animate(\"#pressid\", {\n      opacity: 0\n    });\n    await animate(\"#closeid\", {\n      opacity: 0\n    });\n    await animate(\"#containerid\", {\n      height: \"137px\",\n      y: 0\n    }, {\n      duration: .25\n    });\n  };\n\n  //should setshowmodulepress and the other one here because then the sections will know what to show\n\n  submodules.map(item => {\n    // thesubmoduleis = item.submodule\n    if (item.yesopen === true) {\n      showSection = true;\n\n      //     console.log('map3')\n      // //     console.log('submodules - map - panel is opening')\n      // //     console.log('item.yesopen is: ' + item.yesopen)\n      //     showSection = true\n\n      //     setTimeout(() => {   \n      //         console.log('map4')    \n      //         // console.log('settimeout - item.yesopen is: ' + item.yesopen) \n      //         openpanel()\n\n      //         console.log('map5')    \n      //         // console.log('--- item.submodule is: ' + item.submodule)\n      //         showPressFunction(item.submodule)\n      //         setShowXbtn(true)\n      //         // showPressFunction(\"press\")\n      //         console.log('map6')    \n\n      //         // changesubmodule(item.submodule, true)\n      //     }, 1000)\n\n      //     setTimeout(() => {\n      //         setShowClosebtn(true)\n      //     }, 2000)\n    }\n  });\n\n  const handleCloseClick = e => {\n    setTimeout(() => {\n      closepanel();\n    }, 1000);\n    setTimeout(() => {\n      changesubmodule('press', false);\n      showSection = false;\n    }, 1500);\n  };\n  const svgVariants = {\n    ready: {\n      opacity: 0\n    },\n    start: {\n      opacity: 1,\n      transition: {\n        delay: props.delay,\n        duration: props.duration\n      }\n    }\n  };\n  const renderCloseButton = () => {\n    theclosebtn = [];\n    if (showClosebtn === true) {\n      theclosebtn.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${showXbtn === true ? estyle.showclosebutton : estyle.dontshowclosebutton}`,\n          onClick: e => handleCloseClick(e),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this));\n    }\n  };\n  const renderSubModules = () => {\n    whichmodule = [];\n    if (showPress === true) {\n      whichmodule.push( /*#__PURE__*/_jsxDEV(SubModulePress, {\n        props: {\n          delay: 0,\n          duration: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this));\n    } else if (showPress === false) {\n      whichmodule.push( /*#__PURE__*/_jsxDEV(SubModuleTestimonials, {\n        props: {\n          delay: 0,\n          duration: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this));\n    }\n  };\n  const renderSection = () => {\n    whichsection = [];\n    if (showSection === true) {\n      whichsection.push( /*#__PURE__*/_jsxDEV(motion.div, {\n        id: \"pressid\",\n        style: {\n          opacity: 0\n        },\n        children: [theclosebtn, whichmodule]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this));\n    } else if (showSection === false) {\n      whichsection.push( /*#__PURE__*/_jsxDEV(motion.div, {\n        id: \"pressid\",\n        style: {\n          opacity: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this));\n    }\n  };\n  renderCloseButton();\n  renderSubModules();\n  renderSection();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: scope,\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      id: \"containerid\",\n      className: estyle.container,\n      style: {\n        height: \"137px\",\n        y: 0\n      },\n      variants: svgVariants,\n      initial: \"ready\",\n      animate: \"start\",\n      children: whichsection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 9\n  }, this);\n}\n_s(SubModuleContainer, \"3jSO1Qx4SGuls9cUBt5SwKlJ0+c=\", false, function () {\n  return [useAnimate];\n});\n_c = SubModuleContainer;\nexport default SubModuleContainer;\nvar _c;\n$RefreshReg$(_c, \"SubModuleContainer\");","map":{"version":3,"names":["motion","useAnimate","estyle","useContext","useEffect","useState","SubModulePress","SubModuleTestimonials","NavContext","jsxDEV","_jsxDEV","SubModuleContainer","props","_s","showPress","setShowPress","showClosebtn","setShowClosebtn","showXbtn","setShowXbtn","submodules","changesubmodule","scope","animate","thesubmoduleis","showSection","whichmodule","whichsection","theclosebtn","showPressFunction","section","openpanel","height","y","duration","opacity","closepanel","map","item","yesopen","handleCloseClick","e","setTimeout","svgVariants","ready","start","transition","delay","renderCloseButton","push","children","className","showclosebutton","dontshowclosebutton","onClick","fileName","_jsxFileName","lineNumber","columnNumber","renderSubModules","renderSection","div","id","style","ref","container","variants","initial","_c","$RefreshReg$"],"sources":["/Users/tomo/Documents/code/projects/react/retro-memories/src/interface/sub-modules/sub-module-container/SubModuleContainer.js"],"sourcesContent":["import { motion, useAnimate } from \"framer-motion\"\nimport estyle from \"./SubModuleContainer.module.scss\"\nimport { useContext, useEffect, useState } from \"react\";\nimport SubModulePress from \"../sub-module-press/SubModulePress\"\nimport SubModuleTestimonials from \"../sub-module-testimonials/SubModuleTestimonials\"\nimport NavContext from \"../../../NavContext\"\n\nfunction SubModuleContainer({props}) {\n    \n\n    // left to do here\n    //__________________\n\n    // have to set up a check for the main menu when something is selected and this is set to open\n    \n\n    const [showPress, setShowPress] = useState(false)\n    const [showClosebtn, setShowClosebtn] = useState(false)\n    const [showXbtn, setShowXbtn] = useState(false)\n    \n\n    const { submodules } = useContext(NavContext)\n    const { changesubmodule } = useContext(NavContext)\n    const [scope, animate] = useAnimate();\n\n    let thesubmoduleis = ''\n    let showSection = false;\n    \n    let whichmodule = [\"1\"]\n    let whichsection = []\n    let theclosebtn = []\n\n    //to use the animate it seems like you have to have the style properties you want to animate set on the element and not in a css file\n    //you also appear to need your animations to be asyncronous\n    //make sure you don't have comma's at the end of your animation lines\n    //tenery at bottom 'showPress' seems to be functioning the opposite, shows the component after the colon if true.\n\n    const showPressFunction = (section) => {\n        if(section === 'press')\n        {\n            setShowPress(true)\n        }\n        else\n        {\n            setShowPress(false)\n        }\n    }\n\n    const openpanel = async () => {\n        await animate(\"#containerid\", { height:\"547px\", y:-410 }, {duration: .25 })\n        await animate(\"#pressid\", { opacity:1 })\n        // animate([['#closeid', { opacity:1 }, {delay:1}]])\n    }\n\n    const closepanel = async () => {\n        await animate(\"#pressid\", { opacity:0 })\n        await animate(\"#closeid\", { opacity:0 })\n        await animate(\"#containerid\", { height:\"137px\", y:0 }, {duration:.25 })\n    }\n\n    //should setshowmodulepress and the other one here because then the sections will know what to show\n\n    submodules.map((item) => {\n        // thesubmoduleis = item.submodule\n        if(item.yesopen === true)\n        {\n            showSection = true\n            \n\n        //     console.log('map3')\n        // //     console.log('submodules - map - panel is opening')\n        // //     console.log('item.yesopen is: ' + item.yesopen)\n        //     showSection = true\n            \n        //     setTimeout(() => {   \n        //         console.log('map4')    \n        //         // console.log('settimeout - item.yesopen is: ' + item.yesopen) \n        //         openpanel()\n\n        //         console.log('map5')    \n        //         // console.log('--- item.submodule is: ' + item.submodule)\n        //         showPressFunction(item.submodule)\n        //         setShowXbtn(true)\n        //         // showPressFunction(\"press\")\n        //         console.log('map6')    \n                \n        //         // changesubmodule(item.submodule, true)\n        //     }, 1000)\n\n        //     setTimeout(() => {\n        //         setShowClosebtn(true)\n        //     }, 2000)\n\n        }\n    })\n\n    const handleCloseClick = (e) => {\n        \n        setTimeout(() => {        \n            closepanel()\n        }, 1000)\n\n        setTimeout(() => {   \n            changesubmodule('press', false)\n            showSection = false\n        }, 1500)\n    }\n\n    const svgVariants = {\n        ready: { opacity: 0 },\n        start: { opacity: 1, transition: { delay: props.delay, duration : props.duration }}\n    }\n\n    const renderCloseButton = () => {\n        theclosebtn = []\n        if(showClosebtn === true){\n            theclosebtn.push\n            (  \n                <div> \n                <div className={`${(showXbtn === true ? estyle.showclosebutton : estyle.dontshowclosebutton)}`} onClick={(e) => handleCloseClick(e)}>X</div>\n                {/* <div className={estyle.closebutton} id=\"closeid\" style={{ visibility: 'hidden' }} onClick={(e) => handleCloseClick(e)}>x</div> */}\n                </div>\n            )\n        }\n    }\n\n    const renderSubModules = () => {\n        whichmodule = []\n        if(showPress === true){\n            whichmodule.push\n            (\n                <SubModulePress props={{delay:0, duration:1}}/> \n            )\n        }\n        else if(showPress === false){\n            whichmodule.push\n            (\n                <SubModuleTestimonials props={{delay:0, duration:1}}/>\n            )\n        }\n    }\n\n    const renderSection = () => {\n        whichsection = []\n        if(showSection === true){\n            whichsection.push\n            (\n                <motion.div id=\"pressid\" style={{opacity:0}}>\n                    {theclosebtn}\n                    {whichmodule}\n                </motion.div>\n            )\n        }\n        else if(showSection === false){\n            whichsection.push \n            (\n                <motion.div id=\"pressid\" style={{opacity:1}}>\n                </motion.div>\n            )    \n        }\n    }\n\n    renderCloseButton()\n    renderSubModules()\n    renderSection()\n    \n    return (\n        <div ref={scope}>\n            <motion.div id=\"containerid\" className={estyle.container} style={{ height: \"137px\", y:0 }}variants={svgVariants} initial=\"ready\" animate=\"start\">\n                {whichsection}\n            </motion.div>\n        </div>\n    )\n}\nexport default SubModuleContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}