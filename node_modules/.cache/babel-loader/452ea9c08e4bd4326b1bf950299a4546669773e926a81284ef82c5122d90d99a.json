{"ast":null,"code":"import _slicedToArray from\"/Users/tomo/Documents/code/projects/react/retro-memories/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{motion}from\"framer-motion\";import estyle from\"./MainNav.module.scss\";import{useNavigate}from\"react-router-dom\";import{useState,useContext,useEffect}from\"react\";import NavContext from'../../NavContext';import{jsx as _jsx}from\"react/jsx-runtime\";function MainNav(_ref){var props=_ref.props;var menudisabledamount=props.disablemenuamount*1000;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),enablebutton=_useState2[0],setEnableButton=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),isPrevActive=_useState4[0],setPrevActive=_useState4[1];var _useState5=useState('home'),_useState6=_slicedToArray(_useState5,2),isActive=_useState6[0],setActive=_useState6[1];var _useContext=useContext(NavContext),currentnav=_useContext.currentnav,changenav=_useContext.changenav,submodules=_useContext.submodules,changesubmodule=_useContext.changesubmodule,changeHomePage=_useContext.changeHomePage,homepagevisible=_useContext.homepagevisible,deeplinkname=_useContext.deeplinkname;var navlabels=[\"ABOUT\",\"PROJECTS\",\"CLIENTS\",\"PARTNERS\",\"FUTURE\",\"CONTACT\"];var thenav=[];var navigate=useNavigate();var delaybeforenavchange=.1;var handleHoverVariant={fromselected:{color:'#03FFFA'},tounselected:{color:'#292728',transition:{color:{duration:props.hoveranimduration}}},hoveranim:{color:props.hovercolor,transition:{duration:props.hoveranimduration}}};var handleClick=function handleClick(e,waittime,duration,label){if(isActive!==label){setEnableButton(false);setTimeout(function(){setEnableButton(true);},menudisabledamount);setPrevActive(isActive);setActive(label);submodules.map(function(item){if(item.positionstate!==null){if(homepagevisible===true){changeHomePage(false,false);setTimeout(function(){changesubmodule('',false,2);if(e!==null){navigatetourl(\"/\".concat(e.target.childNodes[0].data.toLowerCase()),e.target.childNodes[0].data.toLowerCase(),waittime,duration,.5);}},700);}else{changesubmodule('',false,2);if(e!==null){navigatetourl(\"/\".concat(e.target.childNodes[0].data.toLowerCase()),e.target.childNodes[0].data.toLowerCase(),waittime,duration,.5);}}}});}};var navigatetourl=function navigatetourl(url,label,waittime,duration,thedelay){var delay=thedelay*1000;setTimeout(function(){navigate(url);changenav(label,waittime,duration);},delay);};useEffect(function(){changesubmodule('',false);},[]);useEffect(function(){currentnav.map(function(item){if(item.navname===undefined){deeplinkname.map(function(item){handleClick(null,props.sectiondelay,props.sectionduration,item.deeplinkname);});}setActive(item.navname);});},[currentnav,deeplinkname]);var _loop=function _loop(i){thenav.push(/*#__PURE__*/_jsx(motion.li,{className:estyle.mainnavbtn,initial:{opacity:0},animate:{opacity:1},transition:{delay:props.delay+i*.2,duration:props.duration},children:enablebutton?/*#__PURE__*/_jsx(\"div\",{className:\"\\n                            \".concat(estyle.thelink,\" \").concat(navlabels[i].toLowerCase(),\" \\n                            \").concat(isActive===navlabels[i].toLowerCase()?null:estyle.selected),onClick:function onClick(e){return handleClick(e,props.sectiondelay,props.sectionduration,navlabels[i].toLowerCase());},children:isPrevActive===navlabels[i].toLowerCase()?/*#__PURE__*/_jsx(motion.div,{className:estyle.thelink,variants:handleHoverVariant,initial:\"fromselected\",animate:\"tounselected\",whileHover:\"hoveranim\",children:navlabels[i]}):/*#__PURE__*/_jsx(motion.div,{className:\"\".concat(estyle.thelink,\" \").concat(isActive===navlabels[i].toLowerCase()?estyle.selected:null),variants:handleHoverVariant,whileHover:\"hoveranim\",children:navlabels[i]})}):/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(estyle.thelink,\" \").concat(isPrevActive===navlabels[i].toLowerCase()?estyle.selected:null,\" \").concat(isActive===navlabels[i].toLowerCase()?estyle.selected:null),children:navlabels[i]})},i));};for(var i=0;i<navlabels.length;i++){_loop(i);}return/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"ul\",{className:estyle.mainnav,children:thenav})});}export default MainNav;","map":{"version":3,"names":["motion","estyle","useNavigate","useState","useContext","useEffect","NavContext","jsx","_jsx","MainNav","_ref","props","menudisabledamount","disablemenuamount","_useState","_useState2","_slicedToArray","enablebutton","setEnableButton","_useState3","_useState4","isPrevActive","setPrevActive","_useState5","_useState6","isActive","setActive","_useContext","currentnav","changenav","submodules","changesubmodule","changeHomePage","homepagevisible","deeplinkname","navlabels","thenav","navigate","delaybeforenavchange","handleHoverVariant","fromselected","color","tounselected","transition","duration","hoveranimduration","hoveranim","hovercolor","handleClick","e","waittime","label","setTimeout","map","item","positionstate","navigatetourl","concat","target","childNodes","data","toLowerCase","url","thedelay","delay","navname","undefined","sectiondelay","sectionduration","_loop","i","push","li","className","mainnavbtn","initial","opacity","animate","children","thelink","selected","onClick","div","variants","whileHover","length","mainnav"],"sources":["/Users/tomo/Documents/code/projects/react/retro-memories/src/navigation/main-nav/MainNav.js"],"sourcesContent":["import { motion } from \"framer-motion\"\nimport estyle from \"./MainNav.module.scss\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useState, useContext, useEffect } from \"react\"\nimport NavContext from '../../NavContext'\n\nfunction MainNav({props}) {\n\n    const menudisabledamount = props.disablemenuamount * 1000\n    const [enablebutton, setEnableButton] = useState(true)\n    const [isPrevActive, setPrevActive] = useState('')\n    const [isActive, setActive] = useState('home');\n    const { currentnav, changenav, submodules, changesubmodule, changeHomePage, homepagevisible, deeplinkname } = useContext(NavContext)\n    const navlabels = [\"ABOUT\", \"PROJECTS\", \"CLIENTS\", \"PARTNERS\", \"FUTURE\", \"CONTACT\"]\n    const thenav = []\n    const navigate = useNavigate()\n    \n    let delaybeforenavchange = .1\n\n    const handleHoverVariant = {\n        fromselected: {color: '#03FFFA'},\n        tounselected: { color:'#292728', \n            transition: { \n                color:{ duration: props.hoveranimduration }\n            }\n        },\n        hoveranim: {\n            color:props.hovercolor,\n            transition:{ duration:props.hoveranimduration }\n        }\n    }\n\n    const handleClick = (e, waittime, duration, label) => {\n        if(isActive !== label)\n        {\n            setEnableButton(false)\n            \n            setTimeout(() => {        \n                setEnableButton(true)\n            }, menudisabledamount)\n            \n            setPrevActive(isActive)\n            setActive(label);\n                    \n            submodules.map((item) => {\n                if(item.positionstate !== null){\n                    if(homepagevisible === true)\n                    {\n                        changeHomePage(false, false)\n                        \n                        setTimeout(() => {        \n                            changesubmodule('', false, 2)\n                            if(e !== null)\n                            {\n                                navigatetourl(`/${e.target.childNodes[0].data.toLowerCase()}`, e.target.childNodes[0].data.toLowerCase(), waittime, duration, .5)\n                            }\n                        }, 700)\n                    }\n                    else\n                    {\n                        changesubmodule('', false, 2)\n                        if(e !== null)\n                        {\n                            navigatetourl(`/${e.target.childNodes[0].data.toLowerCase()}`, e.target.childNodes[0].data.toLowerCase(), waittime, duration, .5)\n                        }\n                    }\n                }\n            })\n        }\n    }\n\n    const navigatetourl = (url, label, waittime, duration, thedelay) => {\n        let delay = thedelay * 1000\n        setTimeout(() => {        \n            navigate(url);\n            changenav(label, waittime, duration)\n        }, delay)\n    }\n\n    useEffect(() => {\n        changesubmodule('', false)\n    }, [])\n\n    useEffect(() => {\n\n        currentnav.map((item) => {\n            if(item.navname === undefined)\n            {\n                deeplinkname.map((item) => {\n                    handleClick(null, props.sectiondelay, props.sectionduration, item.deeplinkname)\n                })\n            }\n            setActive(item.navname)\n        })\n    },[currentnav, deeplinkname])\n\n    for(let i = 0; i < navlabels.length; i++) {\n        thenav.push(\n            <motion.li key={i} className={estyle.mainnavbtn}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay:props.delay + (i*.2), duration: props.duration }}\n            >\n                {enablebutton ?\n                    <div className={`\n                            ${estyle.thelink} ${navlabels[i].toLowerCase()} \n                            ${(isActive === navlabels[i].toLowerCase() ? null : estyle.selected)}`} \n                            onClick={(e) => handleClick(e, props.sectiondelay, props.sectionduration, navlabels[i].toLowerCase())}\n                    >\n                        {isPrevActive === navlabels[i].toLowerCase() ?\n                        <motion.div \n                            className={estyle.thelink}\n                            variants={handleHoverVariant}\n                            initial=\"fromselected\"\n                            animate=\"tounselected\"\n                            whileHover={\"hoveranim\"}\n                        >\n                        {navlabels[i]}\n                        </motion.div> :\n                        <motion.div\n                            className={`${estyle.thelink} ${(isActive === navlabels[i].toLowerCase() ? estyle.selected : null)}`}\n                            variants={handleHoverVariant}\n                            whileHover={\"hoveranim\"}\n                            \n                        >\n                            {navlabels[i]}\n                        </motion.div> \n                        }\n                    </div> :\n                    <div className={`${estyle.thelink} ${(isPrevActive === navlabels[i].toLowerCase() ? estyle.selected : null)} ${(isActive === navlabels[i].toLowerCase() ? estyle.selected : null )}`}>{navlabels[i]}</div>\n                }\n            </motion.li>\n        )\n    }\n\n    return (\n        <nav>\n            <ul className={estyle.mainnav}>\n                {thenav}\n            </ul>\n        </nav>\n    )\n}\nexport default MainNav;"],"mappings":"8IAAA,OAASA,MAAM,KAAQ,eAAe,CACtC,MAAO,CAAAC,MAAM,KAAM,uBAAuB,CAC1C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACvD,MAAO,CAAAC,UAAU,KAAM,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,yBAEzC,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAU,IAAR,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAEnB,GAAM,CAAAC,kBAAkB,CAAGD,KAAK,CAACE,iBAAiB,CAAG,IAAI,CACzD,IAAAC,SAAA,CAAwCX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACpC,IAAAI,UAAA,CAAsChB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,YAAY,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAA8BpB,QAAQ,CAAC,MAAM,CAAC,CAAAqB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAvCE,QAAQ,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAC1B,IAAAG,WAAA,CAA8GvB,UAAU,CAACE,UAAU,CAAC,CAA5HsB,UAAU,CAAAD,WAAA,CAAVC,UAAU,CAAEC,SAAS,CAAAF,WAAA,CAATE,SAAS,CAAEC,UAAU,CAAAH,WAAA,CAAVG,UAAU,CAAEC,eAAe,CAAAJ,WAAA,CAAfI,eAAe,CAAEC,cAAc,CAAAL,WAAA,CAAdK,cAAc,CAAEC,eAAe,CAAAN,WAAA,CAAfM,eAAe,CAAEC,YAAY,CAAAP,WAAA,CAAZO,YAAY,CACzG,GAAM,CAAAC,SAAS,CAAG,CAAC,OAAO,CAAE,UAAU,CAAE,SAAS,CAAE,UAAU,CAAE,QAAQ,CAAE,SAAS,CAAC,CACnF,GAAM,CAAAC,MAAM,CAAG,EAAE,CACjB,GAAM,CAAAC,QAAQ,CAAGnC,WAAW,CAAC,CAAC,CAE9B,GAAI,CAAAoC,oBAAoB,CAAG,EAAE,CAE7B,GAAM,CAAAC,kBAAkB,CAAG,CACvBC,YAAY,CAAE,CAACC,KAAK,CAAE,SAAS,CAAC,CAChCC,YAAY,CAAE,CAAED,KAAK,CAAC,SAAS,CAC3BE,UAAU,CAAE,CACRF,KAAK,CAAC,CAAEG,QAAQ,CAAEjC,KAAK,CAACkC,iBAAkB,CAC9C,CACJ,CAAC,CACDC,SAAS,CAAE,CACPL,KAAK,CAAC9B,KAAK,CAACoC,UAAU,CACtBJ,UAAU,CAAC,CAAEC,QAAQ,CAACjC,KAAK,CAACkC,iBAAkB,CAClD,CACJ,CAAC,CAED,GAAM,CAAAG,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,CAAC,CAAEC,QAAQ,CAAEN,QAAQ,CAAEO,KAAK,CAAK,CAClD,GAAG1B,QAAQ,GAAK0B,KAAK,CACrB,CACIjC,eAAe,CAAC,KAAK,CAAC,CAEtBkC,UAAU,CAAC,UAAM,CACblC,eAAe,CAAC,IAAI,CAAC,CACzB,CAAC,CAAEN,kBAAkB,CAAC,CAEtBU,aAAa,CAACG,QAAQ,CAAC,CACvBC,SAAS,CAACyB,KAAK,CAAC,CAEhBrB,UAAU,CAACuB,GAAG,CAAC,SAACC,IAAI,CAAK,CACrB,GAAGA,IAAI,CAACC,aAAa,GAAK,IAAI,CAAC,CAC3B,GAAGtB,eAAe,GAAK,IAAI,CAC3B,CACID,cAAc,CAAC,KAAK,CAAE,KAAK,CAAC,CAE5BoB,UAAU,CAAC,UAAM,CACbrB,eAAe,CAAC,EAAE,CAAE,KAAK,CAAE,CAAC,CAAC,CAC7B,GAAGkB,CAAC,GAAK,IAAI,CACb,CACIO,aAAa,KAAAC,MAAA,CAAKR,CAAC,CAACS,MAAM,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,EAAIZ,CAAC,CAACS,MAAM,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAAEX,QAAQ,CAAEN,QAAQ,CAAE,EAAE,CAAC,CACrI,CACJ,CAAC,CAAE,GAAG,CAAC,CACX,CAAC,IAED,CACIb,eAAe,CAAC,EAAE,CAAE,KAAK,CAAE,CAAC,CAAC,CAC7B,GAAGkB,CAAC,GAAK,IAAI,CACb,CACIO,aAAa,KAAAC,MAAA,CAAKR,CAAC,CAACS,MAAM,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,EAAIZ,CAAC,CAACS,MAAM,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAAEX,QAAQ,CAAEN,QAAQ,CAAE,EAAE,CAAC,CACrI,CACJ,CACJ,CACJ,CAAC,CAAC,CACN,CACJ,CAAC,CAED,GAAM,CAAAY,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIM,GAAG,CAAEX,KAAK,CAAED,QAAQ,CAAEN,QAAQ,CAAEmB,QAAQ,CAAK,CAChE,GAAI,CAAAC,KAAK,CAAGD,QAAQ,CAAG,IAAI,CAC3BX,UAAU,CAAC,UAAM,CACbf,QAAQ,CAACyB,GAAG,CAAC,CACbjC,SAAS,CAACsB,KAAK,CAAED,QAAQ,CAAEN,QAAQ,CAAC,CACxC,CAAC,CAAEoB,KAAK,CAAC,CACb,CAAC,CAED3D,SAAS,CAAC,UAAM,CACZ0B,eAAe,CAAC,EAAE,CAAE,KAAK,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN1B,SAAS,CAAC,UAAM,CAEZuB,UAAU,CAACyB,GAAG,CAAC,SAACC,IAAI,CAAK,CACrB,GAAGA,IAAI,CAACW,OAAO,GAAKC,SAAS,CAC7B,CACIhC,YAAY,CAACmB,GAAG,CAAC,SAACC,IAAI,CAAK,CACvBN,WAAW,CAAC,IAAI,CAAErC,KAAK,CAACwD,YAAY,CAAExD,KAAK,CAACyD,eAAe,CAAEd,IAAI,CAACpB,YAAY,CAAC,CACnF,CAAC,CAAC,CACN,CACAR,SAAS,CAAC4B,IAAI,CAACW,OAAO,CAAC,CAC3B,CAAC,CAAC,CACN,CAAC,CAAC,CAACrC,UAAU,CAAEM,YAAY,CAAC,CAAC,KAAAmC,KAAA,UAAAA,MAAAC,CAAA,CAEa,CACtClC,MAAM,CAACmC,IAAI,cACP/D,IAAA,CAACR,MAAM,CAACwE,EAAE,EAASC,SAAS,CAAExE,MAAM,CAACyE,UAAW,CAC5CC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBjC,UAAU,CAAE,CAAEqB,KAAK,CAACrD,KAAK,CAACqD,KAAK,CAAIM,CAAC,CAAC,EAAG,CAAE1B,QAAQ,CAAEjC,KAAK,CAACiC,QAAS,CAAE,CAAAkC,QAAA,CAEpE7D,YAAY,cACTT,IAAA,QAAKiE,SAAS,kCAAAhB,MAAA,CACJxD,MAAM,CAAC8E,OAAO,MAAAtB,MAAA,CAAItB,SAAS,CAACmC,CAAC,CAAC,CAACT,WAAW,CAAC,CAAC,oCAAAJ,MAAA,CAC3ChC,QAAQ,GAAKU,SAAS,CAACmC,CAAC,CAAC,CAACT,WAAW,CAAC,CAAC,CAAG,IAAI,CAAG5D,MAAM,CAAC+E,QAAQ,CAAI,CACvEC,OAAO,CAAE,SAAAA,QAAChC,CAAC,QAAK,CAAAD,WAAW,CAACC,CAAC,CAAEtC,KAAK,CAACwD,YAAY,CAAExD,KAAK,CAACyD,eAAe,CAAEjC,SAAS,CAACmC,CAAC,CAAC,CAACT,WAAW,CAAC,CAAC,CAAC,EAAC,CAAAiB,QAAA,CAEzGzD,YAAY,GAAKc,SAAS,CAACmC,CAAC,CAAC,CAACT,WAAW,CAAC,CAAC,cAC5CrD,IAAA,CAACR,MAAM,CAACkF,GAAG,EACPT,SAAS,CAAExE,MAAM,CAAC8E,OAAQ,CAC1BI,QAAQ,CAAE5C,kBAAmB,CAC7BoC,OAAO,CAAC,cAAc,CACtBE,OAAO,CAAC,cAAc,CACtBO,UAAU,CAAE,WAAY,CAAAN,QAAA,CAE3B3C,SAAS,CAACmC,CAAC,CAAC,CACD,CAAC,cACb9D,IAAA,CAACR,MAAM,CAACkF,GAAG,EACPT,SAAS,IAAAhB,MAAA,CAAKxD,MAAM,CAAC8E,OAAO,MAAAtB,MAAA,CAAKhC,QAAQ,GAAKU,SAAS,CAACmC,CAAC,CAAC,CAACT,WAAW,CAAC,CAAC,CAAG5D,MAAM,CAAC+E,QAAQ,CAAG,IAAI,CAAI,CACrGG,QAAQ,CAAE5C,kBAAmB,CAC7B6C,UAAU,CAAE,WAAY,CAAAN,QAAA,CAGvB3C,SAAS,CAACmC,CAAC,CAAC,CACL,CAAC,CAEZ,CAAC,cACN9D,IAAA,QAAKiE,SAAS,IAAAhB,MAAA,CAAKxD,MAAM,CAAC8E,OAAO,MAAAtB,MAAA,CAAKpC,YAAY,GAAKc,SAAS,CAACmC,CAAC,CAAC,CAACT,WAAW,CAAC,CAAC,CAAG5D,MAAM,CAAC+E,QAAQ,CAAG,IAAI,MAAAvB,MAAA,CAAMhC,QAAQ,GAAKU,SAAS,CAACmC,CAAC,CAAC,CAACT,WAAW,CAAC,CAAC,CAAG5D,MAAM,CAAC+E,QAAQ,CAAG,IAAI,CAAK,CAAAF,QAAA,CAAE3C,SAAS,CAACmC,CAAC,CAAC,CAAM,CAAC,EA/BlMA,CAiCL,CACf,CAAC,CACL,CAAC,CArCD,IAAI,GAAI,CAAAA,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGnC,SAAS,CAACkD,MAAM,CAAEf,CAAC,EAAE,EAAAD,KAAA,CAAAC,CAAA,GAuCxC,mBACI9D,IAAA,QAAAsE,QAAA,cACItE,IAAA,OAAIiE,SAAS,CAAExE,MAAM,CAACqF,OAAQ,CAAAR,QAAA,CACzB1C,MAAM,CACP,CAAC,CACJ,CAAC,CAEd,CACA,cAAe,CAAA3B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}