{"ast":null,"code":"var _jsxFileName = \"/Users/tomo/Documents/code/projects/react/retro-memories/src/interface/sub-modules/sub-module-container/SubModuleContainer.js\",\n  _s = $RefreshSig$();\nimport { motion, useAnimate } from \"framer-motion\";\nimport estyle from \"./SubModuleContainer.module.scss\";\nimport { useContext, useEffect, useState } from \"react\";\nimport SubModulePress from \"../sub-module-press/SubModulePress\";\nimport SubModuleTestimonials from \"../sub-module-testimonials/SubModuleTestimonials\";\nimport NavContext from \"../../../NavContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SubModuleContainer({\n  props\n}) {\n  _s();\n  // left to do here\n\n  // remove the set timeouts in the useeffect.\n\n  // change them to use usecontext - button click on submodule sets state, use context is sent here and this will listen to it's change, once changed then it'll do the roll up, usecontext will be updated, the submodulepress and testimional will retrieve this and 'load' based on which one is set\n  // the x button here will also send update usecontext once clicked, and submodules will respond to it accordingly\n\n  // import testimonial\n\n  // change bg color\n\n  console.log('sub module container');\n  console.log(props.delay);\n  console.log(props.duration);\n  const [openMenu, setOpenMenu] = useState(false);\n  const [closeMenu, setCloseMenu] = useState(false);\n  const [showSubModulePress, setShowSubModulePress] = useState(false);\n  // const [showSubModuleTestimonials, setShowSubModuleTestimonials] = useState(false)\n\n  const {\n    submodules\n  } = useContext(NavContext);\n  const {\n    changesubmodule\n  } = useContext(NavContext);\n  const [scope, animate] = useAnimate();\n\n  //to use the animate it seems like you have to have the style properties you want to animate set on the element and not in a css file\n  //you also appear to need your animations to be asyncronous\n  //make sure you don't have comma's at the end of your animation lines\n\n  async function openpanel() {\n    await animate(\"#containerid\", {\n      height: \"547px\",\n      y: -410\n    }, {\n      duration: .5\n    });\n    await animate(\"#pressid\", {\n      opacity: 1\n    });\n    await animate(\"#closeid\", {\n      opacity: 1\n    });\n  }\n  async function closepanel() {\n    await animate(\"#pressid\", {\n      opacity: 0\n    });\n    await animate(\"#closeid\", {\n      opacity: 0\n    });\n    await animate(\"#containerid\", {\n      height: \"137px\",\n      y: 0\n    }, {\n      duration: .5\n    });\n    await updateThatContext();\n  }\n  function updateThatContext() {\n    console.log('updateThatcontext has been called ----------------- *');\n  }\n  useEffect(() => {\n    console.log('use effect - sub module container');\n    console.log('openMenu is: ' + openMenu);\n    if (openMenu === true) {\n      console.log('use effect - sub module container - openMenu is true');\n      openpanel();\n      setCloseMenu(true);\n    } else if (closeMenu === true) {\n      console.log('use effect - sub module container - openMenu is false');\n      closepanel();\n      setOpenMenu(true);\n    }\n\n    //these two settimeouts need to be removed eventually and replaced with usecontext\n    // setTimeout(() => {       \n    //     console.log('use effect - sub module container - settimeout') \n    //     setOpenMenu(true)\n    //     console.log(openMenu)\n    // }, 6000)\n\n    // setTimeout(() => {       \n    //     console.log('use effect - sub module container - settimeout 2') \n    //     setShowSubModulePress(true)\n    // }, 6500)\n\n    if (showSubModulePress === true) {\n      console.log('press should be shown ----------!!!!!!!!<<<<<<');\n    }\n  }, [openMenu]);\n  const handleCloseClick = e => {\n    console.log('param is: ' + e);\n    console.log('The link was clicked.');\n    setOpenMenu(false);\n    setCloseMenu(true);\n\n    //console.log(e.target.childNodes[0].data.toLowerCase())\n    //changesubmodule(e.target.childNodes[0].data.toLowerCase(), false)\n\n    //     const { currentnav } = useContext(NavContext)\n    // currentnav.map((navitem) => {\n    //     if(navitem.navname === \"about\"){\n    //         console.log('about - navitem navname is:' + navitem.navname)\n    //         console.log('about - navitem waittime is:' + navitem.waittime)\n    //     }\n    //     thedelay = navitem.waittime\n    //     console.log('about - thedelay is : ' + thedelay)\n    // })\n\n    // changenav(e.target.childNodes[0].data.toLowerCase(), waittime)\n  };\n\n  submodules.map(item => {\n    console.log('item.submodule is: ' + item.submodule);\n    if (item.submodule === \"press\" && item.isopen === false) {\n      console.log('submodulecontainer - item.submodule is press: ' + item.submodule);\n      console.log('submodulecontainer - item.isopen is false: ' + item.isopen);\n      setOpenMenu(true);\n      // setCloseMenu(true)\n    } else if (item.submodule === 'testimonials' && item.isopen === false) {\n      console.log('submodulecontainer - item.submodule is testimonials: ' + item.submodule);\n      console.log('submodulecontainer - item.isopen is false: ' + item.isopen);\n    }\n  });\n  const svgVariants = {\n    ready: {\n      opacity: 0\n    },\n    start: {\n      opacity: 1,\n      transition: {\n        delay: props.delay,\n        duration: props.duration\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: scope,\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      id: \"containerid\",\n      className: estyle.container,\n      style: {\n        height: \"137px\",\n        y: 0\n      },\n      variants: svgVariants,\n      initial: \"ready\",\n      animate: \"start\",\n      children: showSubModulePress ? /*#__PURE__*/_jsxDEV(motion.div, {\n        id: \"pressid\",\n        style: {\n          opacity: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: estyle.closebutton,\n          id: \"closeid\",\n          style: {\n            opacity: 0\n          },\n          onClick: e => handleCloseClick(e),\n          children: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SubModulePress, {\n          props: {\n            delay: 0,\n            duration: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n}\n_s(SubModuleContainer, \"5Q0wYgsJb87Ulm5ZjoPVNcBR1bE=\", false, function () {\n  return [useAnimate];\n});\n_c = SubModuleContainer;\nexport default SubModuleContainer;\nvar _c;\n$RefreshReg$(_c, \"SubModuleContainer\");","map":{"version":3,"names":["motion","useAnimate","estyle","useContext","useEffect","useState","SubModulePress","SubModuleTestimonials","NavContext","jsxDEV","_jsxDEV","SubModuleContainer","props","_s","console","log","delay","duration","openMenu","setOpenMenu","closeMenu","setCloseMenu","showSubModulePress","setShowSubModulePress","submodules","changesubmodule","scope","animate","openpanel","height","y","opacity","closepanel","updateThatContext","handleCloseClick","e","map","item","submodule","isopen","svgVariants","ready","start","transition","ref","children","div","id","className","container","style","variants","initial","closebutton","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/tomo/Documents/code/projects/react/retro-memories/src/interface/sub-modules/sub-module-container/SubModuleContainer.js"],"sourcesContent":["import { motion, useAnimate } from \"framer-motion\"\nimport estyle from \"./SubModuleContainer.module.scss\"\nimport { useContext, useEffect, useState } from \"react\";\nimport SubModulePress from \"../sub-module-press/SubModulePress\"\nimport SubModuleTestimonials from \"../sub-module-testimonials/SubModuleTestimonials\"\nimport NavContext from \"../../../NavContext\"\n\nfunction SubModuleContainer({props}) {\n    \n\n    // left to do here\n\n    // remove the set timeouts in the useeffect.\n    \n    // change them to use usecontext - button click on submodule sets state, use context is sent here and this will listen to it's change, once changed then it'll do the roll up, usecontext will be updated, the submodulepress and testimional will retrieve this and 'load' based on which one is set\n    // the x button here will also send update usecontext once clicked, and submodules will respond to it accordingly\n\n    // import testimonial\n\n    // change bg color\n\n\n\n    console.log('sub module container')\n    console.log(props.delay)\n    console.log(props.duration)\n    const [openMenu, setOpenMenu] = useState(false)\n    const [closeMenu, setCloseMenu] = useState(false)\n    const [showSubModulePress, setShowSubModulePress] = useState(false)\n    // const [showSubModuleTestimonials, setShowSubModuleTestimonials] = useState(false)\n\n    const { submodules } = useContext(NavContext)\n    const { changesubmodule } = useContext(NavContext)\n    const [scope, animate] = useAnimate();\n\n    //to use the animate it seems like you have to have the style properties you want to animate set on the element and not in a css file\n    //you also appear to need your animations to be asyncronous\n    //make sure you don't have comma's at the end of your animation lines\n    \n    async function openpanel() {\n        await animate(\"#containerid\", { height:\"547px\", y:-410 }, {duration:.5 })\n        await animate(\"#pressid\", { opacity:1 })\n        await animate(\"#closeid\", { opacity:1 })\n    }\n\n    async function closepanel() {\n        await animate(\"#pressid\", { opacity:0 })\n        await animate(\"#closeid\", { opacity:0 })\n        await animate(\"#containerid\", { height:\"137px\", y:0 }, {duration:.5 })\n        await updateThatContext()\n    }\n\n    function updateThatContext()\n    {\n        console.log('updateThatcontext has been called ----------------- *')\n    }\n\n    useEffect(() => {\n\n        console.log('use effect - sub module container')\n        console.log('openMenu is: ' + openMenu)\n        if(openMenu === true){\n            console.log('use effect - sub module container - openMenu is true')\n            openpanel();\n            setCloseMenu(true)\n        }\n        else if(closeMenu === true)\n        {\n            console.log('use effect - sub module container - openMenu is false')\n            closepanel();\n            setOpenMenu(true)\n        }\n        \n        //these two settimeouts need to be removed eventually and replaced with usecontext\n        // setTimeout(() => {       \n        //     console.log('use effect - sub module container - settimeout') \n        //     setOpenMenu(true)\n        //     console.log(openMenu)\n        // }, 6000)\n\n        // setTimeout(() => {       \n        //     console.log('use effect - sub module container - settimeout 2') \n        //     setShowSubModulePress(true)\n        // }, 6500)\n\n\n\n        if(showSubModulePress === true){\n            console.log('press should be shown ----------!!!!!!!!<<<<<<')\n        }\n    }, [openMenu])\n\n    const handleCloseClick = (e) => {\n        console.log('param is: ' + e)\n        console.log('The link was clicked.');\n        setOpenMenu(false)\n        setCloseMenu(true)\n\n        //console.log(e.target.childNodes[0].data.toLowerCase())\n        //changesubmodule(e.target.childNodes[0].data.toLowerCase(), false)\n\n\n    //     const { currentnav } = useContext(NavContext)\n    // currentnav.map((navitem) => {\n    //     if(navitem.navname === \"about\"){\n    //         console.log('about - navitem navname is:' + navitem.navname)\n    //         console.log('about - navitem waittime is:' + navitem.waittime)\n    //     }\n    //     thedelay = navitem.waittime\n    //     console.log('about - thedelay is : ' + thedelay)\n    // })\n\n        // changenav(e.target.childNodes[0].data.toLowerCase(), waittime)\n\n    }\n\n\n    submodules.map((item) => {\n\n        console.log('item.submodule is: ' + item.submodule)\n\n        if(item.submodule === \"press\" && item.isopen === false){\n            console.log('submodulecontainer - item.submodule is press: ' + item.submodule)\n            console.log('submodulecontainer - item.isopen is false: ' + item.isopen)\n            setOpenMenu(true)\n            // setCloseMenu(true)\n        }\n        else if(item.submodule === 'testimonials' && item.isopen === false){\n            console.log('submodulecontainer - item.submodule is testimonials: ' + item.submodule)\n            console.log('submodulecontainer - item.isopen is false: ' + item.isopen)\n        }\n    })\n\n\n    const svgVariants = {\n        ready: { opacity: 0 },\n        start: { opacity: 1, transition: { delay: props.delay, duration : props.duration }}\n    }\n    \n    return (\n\n        <div ref={scope}>\n\n            <motion.div \n                id=\"containerid\"\n                className={estyle.container} \n                style={{ height: \"137px\", y:0 }}\n                variants={svgVariants}\n                initial=\"ready\"\n                animate=\"start\"\n            >\n                \n                {showSubModulePress ?\n                <motion.div \n                    id=\"pressid\"\n                    style={{opacity:0}}\n                >\n                    <div \n                        className={estyle.closebutton} \n                        id=\"closeid\" \n                        style={{ opacity: 0 }} \n                        onClick={(e) => handleCloseClick(e)}\n                    >\n                        x\n                    </div>\n                    <SubModulePress props={{delay:0, duration:1}}/> \n                </motion.div>\n                :\n                <div></div>\n\n                }\n            </motion.div>\n        </div>\n    )\n}\nexport default SubModuleContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}